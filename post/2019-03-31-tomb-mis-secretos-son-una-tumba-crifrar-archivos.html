<head>
<title>Tomb. Mis secretos son una Tumba. Crifrar Archivos. uGeek Blog </title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<div id="logo"><a href="https://ugeek.github.io"><img src="../icon/ugeek.png" border="0"  width="90" height="90" alt="uGeek"></a></div>
<link rel="stylesheet" type="text/css" href="../css/stylesheet.css" />
<link rel="alternate" type="application/rss+xml" href="https://ugeek.github.io/feed.xml" title="uGeek - Blog de Tecnología">

<link rel="shortcut icon" href="https://ugeek.github.io/icon/ugeek-256x256.png" type="image/x-icon" />
<link rel="icon" href="https://ugeek.github.io/icon/ugeek-256x256.png" sizes="32x32" />
<link rel="icon" href="https://ugeek.github.io/icon/ugeek-256x256.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="https://ugeek.github.io/icon/ugeek-256x256.png" />
<meta property="og:locale" content="es_ES" />



<meta name="robots" content="index, follow">
<meta name="twitter:site" content="@ugeekpodcast" />
<meta name="twitter:card" content="summary_large_image" />
<link rel="alternate" type="application/rss+xml" title="uGeek. Blog de Tecnología" href="https://ugeek.github.io/blog/feed/" />


<meta name="author" content="Angel">
<meta name="description" content="Hoy toca el turno de Tomb. Un script para cifrar archivos muy pero que muy interesante" />


<meta property="og:site_name" content="uGeek Blog "/>
<meta property="og:type" content="article" /> 
<meta property="og:title" content="Tomb. Mis secretos son una Tumba. Crifrar Archivos" />
<meta property="og:description" content="Hoy toca el turno de Tomb. Un script para cifrar archivos muy pero que muy interesante" />
<meta property="og:image" content="https://ugeek.github.io/blog/images-blog/tomb.png" />
<meta property="og:url" content="https://ugeek.github.io/blog/post/2019-03-31-tomb-mis-secretos-son-una-tumba-crifrar-archivos.html" />

<meta name="twitter:title" content="Tomb. Mis secretos son una Tumba. Crifrar Archivos" />
<meta name="twitter:description" content="Hoy toca el turno de Tomb. Un script para cifrar archivos muy pero que muy interesante" />
<meta name="twitter:image" content="https://ugeek.github.io/blog/images-blog/tomb.png" />



</head>

<br><br><br><br><br><br><br><br><br><br>

 <link href="http://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css"/> <div id="name"><a href="https://ugeek.github.io/"><tt>Blog del Podcast</tt></div></a> <div id="icon"> <a href="http://feeds.feedburner.com/uGeek" title="rss" alt="rss"><img src="../icon/podcast.png" width="25" height="25" alt="podcast"></a>&nbsp;&nbsp; <a href="http://feeds.feedburner.com/uGeekBlog" alt="rss"><img src="../icon/rss.png" width="25" height="25"></a>&nbsp;&nbsp; <a href="https://github.com/ugeek"><img src="../icon/github.png" width="25" height="25" alt="GitHub"></a>&nbsp;&nbsp; <a href="https://open.spotify.com/show/1pZRMO6ClMS2jCktwF3I8H" alt="rss"><img src="../icon/spotify.png" width="25" height="25"></a>&nbsp;&nbsp; <a href="https://twitter.com/ugeekpodcast"><img src="../icon/twitter.png" width="25" height="25" alt="Twitter"></a>&nbsp;&nbsp; <a href="https://t.me/uGeek"><img src="../icon/telegram.png" width="25" height="25" alt="Telegram"></a></div> <div id="menu"> <a href="https://ugeek.github.io/blog/list.html"><tt>Artículos</tt></a>&nbsp;&nbsp; <a href="https://ugeek.github.io/list.html"><tt>Podcasts</tt></a>&nbsp;&nbsp; <a href="https://ugeek.github.io/tags.html"><tt>Tags</tt></a></div>

<h1 id="tomb.-mis-secretos-son-una-tumba.-crifrar-archivos-1" title="Tomb. Mis secretos son una Tumba. Crifrar Archivos" data-export_file_name="Tomb Mis secretos son una Tumba Crifrar Archivos" data-description="Hoy toca el turno de Tomb. Un script para cifrar archivos muy pero que muy interesante" data-export_date="2019-03-31 23:00" data-category="cifrado" data-tag="raspberry,servidor,cifrado" data-image="./images-blog/tomb.png">Tomb. Mis secretos son una Tumba. Crifrar Archivos</h1>
<p>Seguimos con la serie de aplicaciones para cifrar nuestros archivos. Hoy toca el turno de Tomb. Un script para cifrar archivos muy pero que muy interesante.</p>
<p><img src="../images-blog/tomb.png" /></p>
<p>Tomb es aplicación basada en un script de software libre que nos permite crear un archivo cifrado en forma de contenedor, que llamaremos tomb "tumba" y que posteriormente podremos montar como si fuera un USB o HDD. Es una aplicación muy parecida a <a href="https://ugeek.github.io/blog/post/2019-03-29-veracrypt-en-ubuntu-y-tu-raspberry-por-terminal.html">Veracrypt, que hablé en el Post anterior</a>. Su código está disponible en <a href="https://github.com/dyne/Tomb">este repositorio de GitHub</a>, así que si tenemos conocimientos, podemos ver como está hecho y eso da una muy buena confiabilidad.</p>
<p>Después de crear la tumba (contenedor), crearemos la llave para abrir esta. Deberemos guardar muy bien esta llave, ya que si la perdemos, perderemos nuestros archivos para siempre. En la parte final del Post, explico como convertir la llave en una imagen, por ejemplo, para despistar a posibles intrusos.</p>
<p><strong>Recordar que no es nada aconsejable dejar la llave junto a la tumba.</strong></p>
<h2 id="instalación-en-ubuntu-18.04">Instalación en Ubuntu 18.04</h2>
<p>En Ubuntu lo tenemos muy facil, tan simple como instalar desde los repositorios:</p>
<p><code>sudo apt install tomb</code></p>
<h2 id="instalando-en-raspberry-con-raspbian">Instalando en Raspberry con Raspbian</h2>
<p>Comenzamos instalando:</p>
<p><code>sudo apt-get install gettext zsh cryptsetup pinentry-curses</code></p>
<p>Descargamos la última versión desde <a href="https://files.dyne.org/tomb/">aquí</a>:</p>
<p><code>wget https://files.dyne.org/tomb/Tomb-2.5.tar.gz</code></p>
<p>Descomprimimos:</p>
<p><code>tar xzvf Tomb-2.5.tar.gz</code></p>
<p>Accedemos a la carpeta y compilamos:</p>
<pre><code>cd Tomb-2.5/
sudo make install
</code></pre>
<p>Después instalamos:</p>
<pre><code>sudo install -Dm755 tomb /usr/local/bin/tomb
sudo install -Dm644 doc/tomb.1 /usr/local/share/man/man1/tomb.1
</code></pre>
<p>Ya está instalado!!! Parecía mas complicado…</p>
<h2 id="creando-la-tumba">Creando la Tumba</h2>
<p>Vamos a crear nuestra primera tumba, dentro de esta, añadiremos los archivos que queremos que queden cifrados. Si nuestra máquina tiene activa la swap, deberemos utilizar el tag <strong>-f</strong> al final del comando, para que no deje rastro alguno de los archivos que contiene nuestra tumba.</p>
<p>Creamos la Tumba con 100Mb de Tamaño:</p>
<p><code>tomb dig -s 100 documentos.tomb -f</code></p>
<p>Ahora crearemos la llave e introduciremos la contraseña. Paciencia porque este proceso, puede tardar en función del tamaño, unos minutos. También nos pedirá la contraseña del usuario con permisos sudo.</p>
<p><code>tomb forge -k documentos.tomb.key -f</code></p>
<p>Ya se habrá creado tanto la tumba como la llave. La llave llevará el nombre de la tumba, pero si queremos podemos renombrarla.</p>
<p>Cerraremos el contenedor con la llave creada.</p>
<p><code>tomb lock -k documentos.tomb.key documentos.tomb</code></p>
<h2 id="abrir-la-tumba">Abrir la tumba</h2>
<p>Para abrir la tumba y comenzar a guardar archivos dentro de ella, necesitaremos la llave. Yo estoy utilizando el mismo directorio, pero si está en otro, especificar la ruta completa de donde esté:</p>
<p><code>tomb open -k documentos.tomb.key documentos.tomb -f</code></p>
<p>Normalmente, el volumen se montará en <code>/media/documentos/</code>.</p>
<h2 id="cerrar-tumba">Cerrar tumba</h2>
<p>Para cerrar la tumba, súper sencillo. Utilizaremos <strong>close</strong>:</p>
<p><code>tomb close</code></p>
<p>Cerrar todas las tumbas y aplicaciones que se están haciendo uso de los archivos que están en las tumbas:</p>
<p><code>tomb slam all</code></p>
<h2 id="ocultando-tu-llave-en-una-foto">Ocultando tu llave en una foto</h2>
<p>Primero tenemos que instalar steghide</p>
<p><code>sudo apt install steghide</code></p>
<p>Eligimos una imagen para guardar dentro la llave, en mi caso se llamará <strong>imagen.jpg</strong>. Nos pedirá una contraseña</p>
<p><code>tomb bury -k documentos.tomb.key imagen.jpg</code></p>
<p>Ya podemos eliminar nuestra llave, porque esta, está en el interior de la imagen oculta.</p>
<p>Para poder volver a extraer la llave de la imagen:</p>
<p><code>tomb exhume -k nombredellave imagen.jpg</code></p>
<p>Para abrir nuestra tumba con la imágen:</p>
<p><code>tomb open -k imagen.jpg documentos.tomb</code></p>
<h2 id="listar-tumbas-abiertas">Listar tumbas abiertas</h2>
<p>Vamos a listar todas las tumbas abiertas e información sobre el tamaño, espacio libre,…</p>
<p><code>tomb list</code></p>
<h2 id="ampliar-mas-tamaño">Ampliar mas tamaño</h2>
<p>Una de las cosas que más me ha gustado, es que una vez creada la tumba, no estamos limitados para siempre a ese tamaño, sino que podemos modificarlo pero solo para ampliarlo. Voy a ampliar de 100Mb iniciales a 350Mb:</p>
<p><code>tomb resize -s 310 -k imagen.jpg documentos.tomb -f</code></p>
<p>En el momento de la ampliación, nos pedirá la llave y contraseña.</p>
<h2 id="mas-ayuda">Mas Ayuda</h2>
<p>Sintaxis:</p>
<p><code>tomb [opciones]  [argumentos]</code></p>
<p>Podemos ver todas las opciones con el comando de ayuda o accediendo al manual:</p>
<p><code>tomb -h</code></p>
<p><code>man tomb</code></p>
<h2 id="conclusión">Conclusión</h2>
<p>Voy a darle la oportunidad a este método de cifrar los archivos durante un tiempo, porque me parece muy sencillo, ligero y sobretodo confiable, ya que el código del script está hecho de un modo lo mas legible posible y utilizando herramientas de software libre muy bien auditadas.</p>
<p>Disponemos también de varias versiones con interfaz gráfica para escritorio, como por ejemplo <strong>gtomb</strong>. No puedo hablar de ella porque no la he probado, pero para aquellos que no les guste la terminal, es una buena solución. Recordaros que igual que en el <a href="https://ugeek.github.io/blog/post/2019-03-29-veracrypt-en-ubuntu-y-tu-raspberry-por-terminal.html">Post anterior de Veracrypt</a>, recomiendo el utilizar <strong>alias</strong> para abrir y cerrar las tumbas, solo por no tener que recordar los comando.</p>
<h2 id="fuentes">Fuentes</h2>
<ul>
<li><a href="http://www.dyne.org/software/tomb/">Web de Tomb</a></li>
<li><a href="https://github.com/dyne/Tomb/wiki">Wiki de Tomb</a></li>
</ul>
<br>
<p>Publicado por Angel el domingo 31 marzo del 2019</p>
<br><br> 
<p>También te puede interesar:</p>
<ul>
<li><a href="https://ugeek.github.io/blog/post/2019-03-29-veracrypt-en-ubuntu-y-tu-raspberry-por-terminal.html">Veracrypt en Ubuntu y tu Raspberry por Terminal</a></li>
<li><a href="https://ugeek.github.io/blog/post/2019-01-17-gpg-cifrado-de-archivos-simetrico.html">GPG. Cifrado de archivos simétrico</a></li>
</ul>
<br><br><br><p style="text-align: center;">Powered by <a href="https://github.com/ugeek/org-bash-blog" target="_blank" rel="noopener">org-bash-blog</a></p><p style="text-align: center;">Writing in orgmode whith emacs</p> <p style="text-align: center;"><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license"><img style="border-width: 0px; display: block; margin-left: auto; margin-right: auto;" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Licencia de Creative Commons" /></a><br />Este obra est&aacute; bajo una <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">licencia de Creative Commons Reconocimiento-NoComercial-CompartirIgual 4.0 Internacional</a>.</p><br><br><br>
